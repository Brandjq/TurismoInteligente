generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Recomendacion {
  id          Int     @id @default(autoincrement())
  nombre      String
  descripcion String
  fecha       String?
  lugar       String
  imagen      String?
  destacado   Boolean @default(false)

  @@map("recomendaciones")
}

model Actividad {
  id          Int     @id @default(autoincrement())
  nombre      String  @unique
  descripcion String?
}

model attractions {
  id          Int     @id @default(autoincrement())
  name        String  @unique(map: "unique_name")
  description String
  map_link    String?
  image_url   String?
}

model Hotel {
  id          Int    @id @default(autoincrement())
  nombre      String
  direccion   String
  descripcion String
  precio      String
  url         String
  imagen      String
}

model Review {
  id           Int      @id @default(autoincrement())
  nombre       String
  comentario   String
  calificacion Int
  fecha        DateTime @default(now())
  lugar        String?
}

model User {
  id             Int            @id @default(autoincrement())
  email          String         @unique
  password       String?        // Ahora es opcional, pero los usuarios manuales siguen funcionando igual
  isAdmin        Boolean        @default(false)
  rutasGeneradas RutaGenerada[]
}

model Favorito {
  id         Int       @id @default(autoincrement())
  usuarioId  Int
  nombre     String    @db.VarChar(255)
  itinerario Json
  creadoEn   DateTime? @default(now()) @db.Timestamp(6)
}

model RutaGenerada {
  id         Int      @id @default(autoincrement())
  usuarioId  Int
  nombre     String?
  itinerario Json
  creadoEn   DateTime @default(now())
  usuario    User     @relation(fields: [usuarioId], references: [id])

  @@map("rutas_generadas")
}
